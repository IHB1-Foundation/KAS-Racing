# KAS Racing Server Configuration (KASPLEX zkEVM Testnet)
# Copy this file to apps/server/.env and fill secret values.

# Server port
PORT=8787

# PostgreSQL connection string
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/kas_racing

# Local DB normally runs without SSL
DATABASE_SSL=false

# Optional DB controls
# SKIP_DB_MIGRATIONS=true
DATABASE_POOL_MAX=20

# --- EVM Chain Config ---
EVM_CHAIN_ID=167012
EVM_RPC_URL=https://rpc.kasplextest.xyz

# Required: operator private key for contract calls (0x-prefixed)
OPERATOR_PRIVATE_KEY=0xREPLACE_WITH_OPERATOR_PRIVATE_KEY

# Required: deployed contract addresses
ESCROW_CONTRACT_ADDRESS=0xREPLACE_WITH_MATCHESCROW_ADDRESS
REWARD_CONTRACT_ADDRESS=0xREPLACE_WITH_REWARDVAULT_ADDRESS

# Minimum reward amount in KAS
MIN_REWARD_KAS=0.02

# Local client URL
CORS_ORIGIN=http://localhost:5173

# TX status worker tuning
TX_POLL_INTERVAL_MS=2000
TX_IDLE_POLL_INTERVAL_MS=30000

# Development shortcut (UI-only, no real reward/settlement tx):
# SKIP_KEY_VALIDATION=true
