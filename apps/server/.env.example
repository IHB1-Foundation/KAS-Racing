# KAS Racing Server Configuration (KASPLEX zkEVM Testnet)
# Copy this file to apps/server/.env

# ===== Common =====
NETWORK=testnet
NODE_ENV=development
VITEST=0
PORT=8787

# ===== Database =====
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/kas_racing
DATABASE_SSL=false
DATABASE_POOL_MAX=20
DATABASE_CONNECT_TIMEOUT_MS=10000
DATABASE_SCHEMA_INIT_TIMEOUT_MS=30000
SKIP_DB_MIGRATIONS=false

# ===== API Runtime =====
CORS_ORIGIN=http://localhost:5173
MIN_REWARD_KAS=0.02
TX_POLL_INTERVAL_MS=2000
TX_IDLE_POLL_INTERVAL_MS=30000

# ===== EVM Runtime =====
EVM_CHAIN_ID=167012
EVM_RPC_URL=https://rpc.kasplextest.xyz
# deployed reference (2026-02-15 UTC)
# OPERATOR_ADDRESS=0xBc8d27aa7F866aD57A2D109043dB1feB9fa3c1f5
OPERATOR_PRIVATE_KEY=0xREPLACE_WITH_OPERATOR_PRIVATE_KEY
ESCROW_CONTRACT_ADDRESS=0xd731DB9644049F010bF595f94c91851D2e7765dD
REWARD_CONTRACT_ADDRESS=0xE2769EE0c03bA6b9aD881f4e02b3225aD1033889
EVM_BRIDGE_POLL_MS=2000
EVM_BRIDGE_IDLE_POLL_MS=15000

# ===== Legacy Kaspa path (optional compatibility) =====
# 아래 3개 키는 같은 지갑 키를 재사용해도 됨.
TREASURY_PRIVATE_KEY=REPLACE_WITH_64_HEX
TREASURY_CHANGE_ADDRESS=kaspatest:REPLACE_WITH_TREASURY_ADDRESS
ORACLE_PRIVATE_KEY=REPLACE_WITH_64_HEX

# EVM-only 로컬 실행 시 legacy 키 검증 우회
SKIP_KEY_VALIDATION=true
