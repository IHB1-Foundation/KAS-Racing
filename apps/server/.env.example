# KAS Racing Server Configuration (KASPLEX zkEVM Testnet)
# Copy this file to apps/server/.env

# ===== Common =====
NETWORK=testnet
NODE_ENV=development
VITEST=0
PORT=8787

# ===== Database =====
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/kas_racing
DATABASE_SSL=false
DATABASE_POOL_MAX=20
SKIP_DB_MIGRATIONS=false

# ===== API Runtime =====
CORS_ORIGIN=http://localhost:5173
MIN_REWARD_KAS=0.02
TX_POLL_INTERVAL_MS=2000
TX_IDLE_POLL_INTERVAL_MS=30000

# ===== EVM Runtime =====
EVM_CHAIN_ID=167012
EVM_RPC_URL=https://rpc.kasplextest.xyz
OPERATOR_PRIVATE_KEY=0xREPLACE_WITH_OPERATOR_PRIVATE_KEY
ESCROW_CONTRACT_ADDRESS=0xTO_BE_DEPLOYED_MATCHESCROW
REWARD_CONTRACT_ADDRESS=0xTO_BE_DEPLOYED_REWARDVAULT
EVM_BRIDGE_POLL_MS=2000
EVM_BRIDGE_IDLE_POLL_MS=15000

# ===== Legacy Kaspa path (optional compatibility) =====
# 아래 3개 키는 같은 지갑 키를 재사용해도 됨.
TREASURY_PRIVATE_KEY=REPLACE_WITH_64_HEX
TREASURY_CHANGE_ADDRESS=kaspatest:REPLACE_WITH_TREASURY_ADDRESS
ORACLE_PRIVATE_KEY=REPLACE_WITH_64_HEX

# EVM-only 로컬 실행 시 legacy 키 검증 우회
SKIP_KEY_VALIDATION=true
